<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Advanced CSS 101</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
		<style>
			@keyframes orange {
				to {
					text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #fff,
						0 0 40px #ff5722, 0 0 70px #ff5722, 0 0 80px #ff5722,
						0 0 100px #ff5722, 0 0 150px #ff5722;
				}
				from {
					filter: brightness(130%);
					text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #fff,
						0 0 20px #ff5722, 0 0 35px #ff5722, 0 0 40px #ff5722,
						0 0 50px #ff5722, 0 0 75px #ff5722;
				}
			}
		</style>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h1>CSS advanced 101</h1>
				</section>
				<section>
					<section>
						<h2>开始之前...</h2>
					</section>
					<section>
						<p>吾日三省吾身</p>
						<ul>
							<li class="fragment">我懂 CSS 吗？</li>
							<li class="fragment">我喜欢 CSS 吗？</li>
							<li class="fragment">我和 CSS 能成为好朋友吗？</li>
						</ul>
					</section>
				</section>
				<section>
					<section>
						<h2>什么是 FC ？</h2>
					</section>
					<section>
						Formatting Context (格式化上下文)，它决定了其子元素将如何定位，以及和其他元素的关系、相互作用的方式。
					</section>
				</section>
				<section>
					Positioning schemes (定位机制)
					<ol>
						<li>Normal Flow</li>
						<li>Float</li>
						<li>Absolute Positioning</li>
					</ol>
				</section>
				<section>
					<section>
						<h3>BFC</h3>
						<p>(Block Formatting Context: 块级格式化上下文)</p>
					</section>
					<section>
						<p>下面哪个选项<strong>不会</strong>生成BFC？</p>
						<ol style="font-size: 70%;">
							<li>display: blcok</li>
							<li>display: inline-block</li>
							<li>display: tabel-cell | table-caption</li>
							<li>position: absolute | fixed </li>
							<li>overflow 为除 'visible' 之外的值</li>
						</ol>
					</section>
					<section>
						<p> 
							Answer is:  1 	
						</p>
						<a href="https://www.w3.org/TR/CSS22/visuren.html#block-formatting" target="_blank">(W3 Definition)</a>
					</section>
					<section>
						<ol style="font-size: 50%;">
							<li>内部的BOX会在垂直方向上一个接一个的放置</li>
							<li>
								垂直方向上的距离由margin决定（完整的说法是：属于同一个BFC的俩个相邻的BOX的margin会发生重叠，与方向无关。）
								<a href="https://codepen.io/Gougougogogo/pen/yrpbXW?editors=1100" target="_blank">Example</a>
							</li>
							<li>每个元素的左外边距与包含块的左边界相接触（从左到右），即使浮动元素也是如此。（这说明BFC中的子元素不会超出它的包含块，而position为absolute的元素可以超出它的包含块边界）</li>
							<li>
								BFC的区域不会与float的元素区域重叠
								<a href="https://codepen.io/Gougougogogo/pen/LvdBmj" target="_blank">Example</a>
							</li>
							<li>
								计算BFC的高度时，浮动子元素也参与计算
								<a href="https://codepen.io/Gougougogogo/pen/bJaWOz?editors=1100" target="_blank">Example</a>
							</li>
							<li>
								BFC就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素，反之亦然
							</li>
						</ol>
					</section>
				</section>
				<section>
					<section>
						<h3>Controlling box </h3>
						<p>(block level)</p>
					</section>
					<section>
						<ul style="font-size: 70%">
							<li>Block level elements (display: block | list-item | table)</li>
							<li>Block level boxes (Block level elements which participate in a block formatting context)</li>
							<li>Block container boxes (except table and replaced elements,  the block level boxes also called block container boxes)</li>
							<li>Block boxes (Block-level boxes that are also block containers are called block boxes)</li>
							<li>Anonymous block boxes</li>
						</ul>
					</section>
					<section>
						<img src="./img/controlling box-block.png">
					</section>
				</section>
				<section>
					<section>
						<h3>Controlling box </h3>
						<p>(inline level)</p>
					</section>
					<section>
						<ul style="font-size: 50%">
							<li>Inline level elements (display:  inline | inline-table | inline-block )</li>
							<li>Inline level boxes (Inline level elements which participate in a inline formatting context)</li>
							<li>Inline boxes (A non-replaced element with a 'display' value of 'inline' generates an inline box)</li>
							<li>Inline atomic boxes (Inline-level boxes that are not inline boxes (such as replaced inline-level elements, inline-block elements, and inline-table elements) are called atomic inline-level boxes )</li>
							<li>Anonymous inline boxes</li>
						</ul>
					</section>
					<section>
						<img src="./img/controlling box-inline.png">
					</section>
				</section>
				<section>
					<section>
						<h3>IFC</h3>
						<p>(Inline Formatting Context: 行内级格式化上下文)</p>
					</section>
					<section>
						<p>IFC 有哪些特点</p>
						<ol style="font-size: 50%">
							<li>inline box 必须水平一个接一个放置</li>
							<li>
								inline box 之间水平的 border、padding、margin 都是有效的
								<a href="https://codepen.io/Gougougogogo/pen/zXWmXO" target="_blank">Example</a>
							</li>
							<li>
								inline box 可以以不同的 vertical align 方式对齐
								<a href="https://codepen.io/Gougougogogo/pen/MRVzgR" target="_blank">Example</a>
							</li>
							<li>
								包含来自同一行的矩形区域叫做 line box
								<a href="https://codepen.io/Gougougogogo/pen/PgRxNR" target="_blank">Example</a>
							</li>
							<li>
								line box 的宽度由包含块和 float 元素共同决定
								<a href="https://codepen.io/Gougougogogo/pen/wZmQeY" target="_blank">Example</a>
							</li>
						</ol>
					</section>
					<section>
						<p>IFC 有哪些特点</p>
						<ol style="font-size: 50%">
							<li>
								line box 的高度总是足够包含其包含的 inline box
							</li>
							<li>
								当多个 inline box 不能在一行搁下时，它们会被放在几个水平堆叠的line box 中
							</li>
							<li>
								line box 中的 inline box 加起来的宽度没有 line box 宽时，它们的水平对齐方式有 text-align 决定
							</li>
							<li>
								当line box 无法被分割时，可以溢出
							</li>
						</ol>
					</section>
					<section>
						<h3>如何生成IFC呢？</h3>
						<p class="fragment">个人认识：当container 中所有的 box elements 均为 inline boxes 或 atomic inline boxes 或 Anonymous inline boxes 时则会生成 IFC</p>
					</section>
				</section>
				<section>
					<section>
						<h3>Stacking Context</h3>
						<p>(层叠上下文)</p>
						<a href="https://codepen.io/Gougougogogo/pen/LvmbyK" target="_blank">Example</a>
					</section>
					<section>
						<img src="./img/Stacking context level.png">
					</section>
					<section>
						W3 规范定义的层叠水平（Stacking level）
						<ul style="font-size:60%">
							<li>the background and borders of the element forming the stacking context.</li>
							<li>the child stacking contexts with negative stack levels (most negative first).</li>
							<li>the in-flow, non-inline-level, non-positioned descendants.</li>
							<li>the non-positioned floats.</li>
							<li>the in-flow, inline-level, non-positioned descendants, including inline tables and inline blocks.</li>
							<li>the child stacking contexts with stack level 0 and the positioned descendants with stack level 0.</li>
							<li>the child stacking contexts with positive stack levels (least positive first).</li>
						</ul>
					</section>
					<section>
						如何生成一个层叠上下文
						<ul style="font-size:50%">
							<li>根元素 (HTML)</li>
							<li>z-index 值不为 "auto"的 绝对/相对定位</li>
							<li>一个 z-index 值不为 "auto"的 flex 项目 (flex item)</li>
							<li>opacity 属性值小于 1 的元素</li>
							<li>transform 属性值不为 "none"的元素</li>
							<li>mix-blend-mode 属性值不为 "normal"的元素</li>
							<li>filter值不为“none”的元素</li>
							<li>perspective值不为“none”的元素</li>
							<li>isolation 属性被设置为 "isolate"的元素</li>
							<li>position: fixed</li>
							<li>在 will-change 中指定了任意 CSS 属性，即便你没有直接指定这些属性的值</li>
							<li>-webkit-overflow-scrolling 属性被设置 "touch"的元素</li>
						</ul>
					</section>
					<section>
						<a href="https://codepen.io/Gougougogogo/pen/pBVRyG" target="_blank">Stacking Context Issue</a>
					</section>
				</section>
				<section>
					<section>
						<h3> Q&A </h3>
					</section>
					<section>
						<p>Thanks.</p>
						<small class="fragment" 
							style="color:white; 
								animation: orange 1.5s ease-in-out infinite alternate;">
							纵 CSS 虐我千百遍，我待 CSS 如初恋.
						</small>
						
					</section>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
